# 6장. 객체 지도

**유일하게 변하지 않는 것은 모든 것이 변한다는 사실뿐이다.**
<br><br>

**지도가 범용적인 이유는 지도를 사용하려는 사람들이 원하는 '기능'에 비해 지도에 표시된 '구조'가 더 안정적이기 때문이다.**
<br><br>

## 기능 설계 대 구조 설계
* 기능 측면의 설계
    - 제품이 사용자를 위해 무엇을 할 수 있는지에 초점을 맞춤
* 구조 측면의 설계
    - 제품의 형태가 어떠해야 하는지에 초점을 맞춤
* 두 가지 측면을 함께 녹여 조화를 이루도록 만드는 것  
<br><br>

## 두 가지 재료: 기능과 구조
* 유스케이스 모델링
    - 기능을 수집하고 표현하기 위한 기법
* 도메인 모델링
    - 구조를 수집하고 표현하기 위한 기법  
<br><br>

## 안정적인 재료: 구조
### 도메인 모델
* 도메인
    - 사용자가 프로그램을 사용하는 대상 분야
* 모델
    - 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태
    - 대상을 추상화하고 단순화한 것
    - 복잡성을 관리하기 위해 사용하는 기본적인 도구
* 도메인 모델
    - 사용자가 프로그램을 사용하는 대상 영역에 관한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태
    - 도메인에 대한 사용자 모델, 디자인 모델, 시스템 이미지를 포괄하도록 추상화한 소프트웨어 모델

<br>

### 도메인의 모습을 담을 수 있는 객체지향
* 도메인 모델이란 사용자들이 도메인을 바라보는 관점이며, 설계자가 시스템의 구조를 바라보는 관점인 동시에 소프트웨어 안에 구현된 코드의 모습 그 자체

<br>

### 표현적 차이
* 소프트웨어 객체는 현실 객체가 갖지 못한 특성을 가질 수도 있고 현실 객체가 하지 못하는 행동을 할 수도 있다.
* 표현적 차이 또는 의미적 차이
    - 소프트웨어 객체와 현실 객체 사이의 의미적 거리
* 우리는 사용자가 도메인에 대해 생각하는 개념들을 은유를 통해 투영해야 한다.
* 소프트웨어 객체를 창조하기 위해 우리가 은유해야 하는 대상은 도메인 모델

<br>

### 불안정한 기능을 담는 안정적인 도메인 모델
* 도메인 모델이 제공하는 구조가 상대적으로 안정적
* 사용자 모델에 포함된 개념과 규칙은 비교적 변경될 확률이 적기 때문에 사용자 모델을 기반으로 설계와 코드를 만들면 변경에 쉽게 대처할 수 있을 가능성이 커짐.  
<br><br>

## 불안정한 재료: 기능
### 유스케이스
* 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 텍스트로 정리한 것
* 사용자 목표가 유스케이스의 핵심
* 공통의 사용자 목표를 통해 강하게 연관된 시나리오의 집합

<br>

### 유스케이스의 특성
1. 사용자와 시스템 간의 상호작용을 보여주는 '텍스트'
2. 하나의 시나리오가 아니라 여러 시나리오들의 집합 (유스케이스 인스턴스 use case instance)
3. 단순한 피처(feature) 목록과 다르다.
4. 사용자 인터페이스와 관련된 세부 정보를 포함하지 말아야 한다. (본질적인 유스케이스 essential use case)
5. 내부 설계와 관련된 정보를 포함하지 않는다.

<br>

### 유스케이스는 설계 기법도, 객체지향 기법도 아니다
* 유스케이스가 단지 사용자가 바라보는 시스템의 외부 관점만을 표현한다는 점에 주목하라.
* 시스템의 내부 구조나 실행 메커니즘에 관한 어떤 정보도 제공하지 않는다.
* 단지 사용자가 시스템을 통해 무엇을 얻을 수 있고 어떻게 상호작용할 수 있느냐에 관한 정보만 기술된다.  
<br><br>

## 재료 합치기: 기능과 구조의 통합
### 도메인 모델, 유스케이스, 그리고 책임-주도 설계
* 도메인 모델
    - 안정적인 구조를 개념화하기 위해 사용되는 도구
* 유스케이스
    - 불안정한 기능을 서술하기 위해 사용되는 도구
    - 변경에 유연한 소프트웨어를 만들기 위해서는 유스케이스에 정리된 시스템의 기능을 도메인 모델을 기반으로 한 객체들의 책임으로 분배해야 한다.

<br>

### 기능 변경을 흡수하는 안정적인 구조
* 기능이 변경되거나 추가되어도 대부분의 클래스 구조가 그대로 유지되는 이유는 도메인을 구성하는 기본적인 개념과 관계를 포함하는 도메인 모델을 기반으로 시스템의 기능을 대응시켰기 때문
* 도메인 모델과 코드를 밀접하게 연관시키기 위해 노력하라.